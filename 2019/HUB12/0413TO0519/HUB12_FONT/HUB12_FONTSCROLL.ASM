;**********************************************************************
;                                                                     *
;    Filename:	    HUB12_FONT.asm                                    *
;    Date:          2019.17.05                                        *
;    File Version:                                                    *
;                                                                     *
;    Author:                                                          *
;    Company:      GER-PER ENGINEERING                                *
;                                                                     * 
;                                                                     *
;**********************************************************************
;                                                                     *
;    Files Required: P16F690.INC                                      *
;                                                                     *
;**********************************************************************




	list		p=16f690		; list directive to define processor
	#include	<P16F690.inc>		; processor specific variable definitions
	
	__CONFIG    _CP_OFF & _CPD_OFF & _BOR_OFF & _PWRTE_ON & _WDT_OFF & _HS_OSC & _MCLRE_OFF & _FCMEN_OFF & _IESO_OFF


; '__CONFIG' directive is used to embed configuration data within .asm file.
; The labels following the directive are located in the respective .inc file.
; See respective data sheet for additional information on configuration word.






;***** VARIABLE DEFINITIONS
w_temp		EQU	0x7D			; variable used for context saving
status_temp	EQU	0x7E			; variable used for context saving
pclath_temp	EQU	0x7F			; variable used for context saving
	

	;#DEFINE C0_ON		BSF PORTC,	0	PORTC0=====>HI
	;#DEFINE C0_OFF		BCF PORTC,	0	PORTC0=====>LO

	#DEFINE	A_ON		BSF	PORTC,	0
	#DEFINE	A_OFF		BCF	PORTC,	0
	
	#DEFINE	B_ON		BSF	PORTC,	1
	#DEFINE	B_OFF		BCF	PORTC,	1

	#DEFINE	DAT_ON		BSF	PORTC,	2
	#DEFINE	DAT_OFF		BCF	PORTC,	2

	#DEFINE	CLK_ON		BSF	PORTC,	7
	#DEFINE	CLK_OFF		BCF	PORTC,	7
	
	#DEFINE	REG_ON		BSF	PORTC,	4
	#DEFINE	REG_OFF		BCF	PORTC,	4
	
	#DEFINE	OE_ON		BSF	PORTC,	5
	#DEFINE	OE_OFF		BCF	PORTC,	5


	#DEFINE	BANK0		BANKSEL	PORTA
	#DEFINE	BANK1		BANKSEL	ADRESL
	
	CBLOCK 0x20

			DELAYUS, DELAYMS, DELAYS, MILSEC, SEC	;DELAY VARIABLES
			;=======================================================
			
			COUNT0,	COUNT1,	COUNT2,	COUNT3
			
			VAR0
			TEMPFILE, FONT
			DRAM : .64, POINTER
			;========================================================


			SHCNT,COUNT4
			CURSORX,CURSORY,GRP
			TESTER
			NUMBER,BTCOUNT,WIDTH,TALL
			ROW,TENS,PTTEN
			TEMPFILEB,TEMPFILEC,TEMPFILED

	ENDC

	CBLOCK 0XA0

			IRAM : .64
			IPOINTER,IWIDTH
			ICOUNT,ITESTER,ICURSORX,ISHCNT,IROW,IPT
	ENDC
;**********************************************************************	
	ORG		0x000			; processor reset vector

	.	goto	INIT		 ; go to beginning of program	

	ORG		0x004			; interrupt vector location
	movwf		w_temp			; save off current W register contents
	movf		STATUS,w		; move status register into W register
	movwf		status_temp		; save off contents of STATUS register
	movf		PCLATH,w		; move pclath register into W register
	movwf		pclath_temp		; save off contents of PCLATH register


; isr code can go here or be located as a call subroutine elsewhere

	movf		pclath_temp,w		; retrieve copy of PCLATH registerz`
	movwf		PCLATH			; restore pre-isr PCLATH register contents	
	movf		status_temp,w		; retrieve copy of STATUS register
	movwf		STATUS			; restore pre-isr STATUS register contents
	swapf		w_temp,f
	swapf		w_temp,w		; restore pre-isr W register contents
	retfie					; return from interrupt


;$$$$$$$$$$$$$$$$$$$$$	INITIALIZE	$$$$$$$$$$$$$$$$$$$$$$$$$$$$



;DECLARE PORTC AS OUTPUT HERE:
INIT


BANKSEL	ANSEL

MOVLW	B'00000000'
MOVWF	ANSEL

MOVWF	ANSELH

MOVLW	B'00000000'
TRIS	PORTC

BANKSEL	PORTA	



CALL 	CLRAM
CALL	CLR_IRAM


GOTO	MAIN
;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$






;#######################	MAIN	##############################
MAIN
		BANK0

		MOVLW	0
		MOVWF	FONT
		CALL	COUNT
		
		MOVLW	1
		MOVWF	FONT
		CALL	COUNT



GOTO MAIN
;#################################################################
COUNT
		MOVLW	0
		MOVWF	TENS

		MOVLW	.10
		MOVWF	PTTEN

MIN0
		MOVLW	0XC
		MOVWF	PCLATH
		CALL	TENDOWN

		MOVLW	7
		MOVWF	PCLATH
		CALL	SCROLL
		MOVLW	0
		MOVWF	PCLATH
		BANK0
		INCF	TENS
		DECFSZ	PTTEN,F
		GOTO	MIN0
RETURN

;-------------------
DISP
	MOVLW	.10
	MOVWF	COUNT4
DISP0
	CALL	DISPLAY
	DECFSZ	COUNT4,F
	GOTO	DISP0
	OE_OFF
RETURN
;-------------------
;############	CLEAR   IRAM  #################
CLR_IRAM
	
	MOVLW		0XD
	MOVWF		PCLATH
	CALL		CMD_CLR_IRAM
	MOVLW		0
	MOVWF		PCLATH 

RETURN
;#################################################

;#################### DUMPING OF DATA #######################

DUMP
	
	MOVLW	.0
	MOVWF	BTCOUNT
		
	MOVFW	FONT
	ADDWF	PCL,F

	GOTO	FONT_0
	
	GOTO	FONT_1
	
	GOTO	FONT_2



FONT_0
	MOVLW	.8
	MOVWF	PCLATH

	CALL	CHAR
	MOVWF	WIDTH
	INCF	BTCOUNT


	CALL	CHAR
	MOVWF	DRAM+33
	INCF	BTCOUNT

	
	CALL	CHAR
	MOVWF	DRAM+23
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+13
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+03
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+32
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+22
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+12
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+02
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+31
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+21
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+11
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+01
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+30
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+20
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+10
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	DRAM+00
	INCF	BTCOUNT

	MOVLW	.0			;BACK TO PAGE1
	MOVWF	PCLATH
RETURN

FONT_1

	MOVLW	.9
	MOVWF	PCLATH

	CALL	L_CHAR
	MOVWF	WIDTH
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+31
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+21
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+11
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+01
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+30
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+20
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+10
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	DRAM+00
	INCF	BTCOUNT

	MOVLW	.0			;BACK TO PAGE1
	MOVWF	PCLATH

	RETURN

FONT_2

	MOVLW	0XA
	MOVWF	PCLATH

	CALL	T_CHAR
	MOVWF	WIDTH
	INCF	BTCOUNT


	CALL	T_CHAR
	MOVWF	DRAM+33
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+37
	INCF	BTCOUNT
	
	CALL	T_CHAR
	MOVWF	DRAM+23
	INCF	BTCOUNT
	
	CALL	T_CHAR
	MOVWF	DRAM+27
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+13
	INCF	BTCOUNT
	
	CALL	T_CHAR
	MOVWF	DRAM+17
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+03
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+07
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+32
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+36
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+22
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+26
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+12
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+16
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+02
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+06
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+31
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+35
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+21
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+25
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+11
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+15
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+01
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+05
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+30
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+34
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+20
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+24
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+10
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+14
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+00
	INCF	BTCOUNT

	CALL	T_CHAR
	MOVWF	DRAM+04
	INCF	BTCOUNT

	MOVLW	.0			;BACK TO PAGE1
	MOVWF	PCLATH
RETURN
;########################################




;;#################	SHIFT Y UPWARD ###############################
;SHIFT_YU
;
;	MOVFW	DRAM + 33
;	MOVWF	TEMPFILE
;	
;	MOVFW	DRAM + 23
;	MOVWF	DRAM + 33
;
;	MOVFW	DRAM + 13
;	MOVWF	DRAM + 23
;
;	MOVFW	DRAM + 03
;	MOVWF	DRAM + 13
;
;	MOVFW	DRAM + 32
;	MOVWF	DRAM + 03
;
;	MOVFW	DRAM + 22
;	MOVWF	DRAM + 32
;
;	MOVFW	DRAM + 12
;	MOVWF	DRAM + 22
;
;	MOVFW	DRAM + 02
;	MOVWF	DRAM + 12
;
;	MOVFW	DRAM + 31
;	MOVWF	DRAM + 02
;
;	MOVFW	DRAM + 21
;	MOVWF	DRAM + 31
;
;	MOVFW	DRAM + 11
;	MOVWF	DRAM + 21
;
;	MOVFW	DRAM + 01
;	MOVWF	DRAM + 11
;
;	MOVFW	DRAM + 30
;	MOVWF	DRAM + 01
;
;	MOVFW	DRAM + 20
;	MOVWF	DRAM + 30
;
;	MOVFW	DRAM + 10
;	MOVWF	DRAM + 20
;
;	MOVFW	DRAM + 00
;	MOVWF	DRAM + 10
;	
;	MOVFW	TEMPFILE
;	MOVWF	DRAM + 00
;
;	DECFSZ	CURSORY,F
;	GOTO	SHIFT_YU
;
;RETURN
;;#################################################################
;
;
;
;
;
;;#################	CUTTING CHARACTERS FROM BOT ##################
;SLICEB
;	MOVLW		0X1F
;	MOVWF		FSR
;
;SLB0
;	MOVLW		.4
;	MOVWF		POINTER
;			
;	MOVLW		0XD
;	ADDWF		FSR
;
;SLB1
;	MOVLW		0XFF
;	MOVWF		INDF
;	MOVLW		INDF
;
;	MOVLW		0X10
;	ADDWF		FSR
;	DECFSZ		TALL,F
;	GOTO		SLB2
;	RETURN		;EXIT IF ZERO
;
;SLB2
;	DECFSZ		POINTER,F
;	GOTO		SLB1
;	MOVLW		0X4C
;	SUBWF		FSR
;	GOTO		SLB0
;
;RETURN
;;#################################################################
;
;
;
;;#################	CUTTING CHARACTERS FROM TOP ##################
;SLICET
;	MOVLW		0X6C
;	MOVWF		FSR
;	
;SLT0
;	MOVLW		.4
;	MOVWF		POINTER
;	MOVLW		0XD
;	SUBWF		FSR
;
;SLT1
;	MOVLW		0XFF
;	MOVWF		INDF
;	MOVLW		INDF
;	
;	MOVLW		0X10
;	SUBWF		FSR
;	DECFSZ		TALL,F
;	GOTO		SLT2
;	RETURN		;EXIT IF ZERO
;
;SLT2
;	DECFSZ		POINTER,F
;	GOTO		SLT1
;	MOVLW		0X4C
;	ADDWF		FSR
;	GOTO		SLT0
;	
;
;RETURN
;;#################################################################







;#########################	DISPLAY	####################
DISPLAY

	MOVLW		.16
	MOVWF		POINTER
	MOVLW		.44
	MOVWF		FSR

DSP0
	CALL		DATALATCH
	INCF		FSR, F
	DECFSZ		POINTER, F
	GOTO		DSP0

	A_ON
	B_ON
	OE_ON
	CALL		DELAY_ONEMS


	MOVLW		.16
	MOVWF		POINTER

DSP1
	CALL		DATALATCH
	INCF		FSR, F
	DECFSZ		POINTER, F
	GOTO		DSP1

	A_OFF
	B_ON
	OE_ON
	CALL		DELAY_ONEMS

	MOVLW		.16
	MOVWF		POINTER

DSP2
	CALL		DATALATCH
	INCF		FSR, F
	DECFSZ		POINTER, F
	GOTO		DSP2

	A_ON
	B_OFF
	OE_ON
	CALL		DELAY_ONEMS

	MOVLW		.16
	MOVWF		POINTER

DSP3
	CALL		DATALATCH
	INCF		FSR, F
	DECFSZ		POINTER, F
	GOTO		DSP3

	A_OFF
	B_OFF
	OE_ON
	CALL		DELAY_ONEMS




RETURN
;###############################################################











;============	DATA	LATCH	================================
DATALATCH
	CLK_OFF
	REG_OFF
	OE_OFF
	MOVF		INDF,W
	MOVWF		VAR0
	MOVLW	.8
	MOVWF	COUNT0	

DL0
	RLF VAR0,F	; Rotate "Var" one place to the left
	BTFSS STATUS,C	; Is carry 1?
	GOTO	D0
	GOTO	D1

D0
	DAT_OFF
	GOTO DL1
D1
	DAT_ON
	GOTO DL1
	
DL1
	CLK_ON
	CLK_OFF
	DECFSZ	COUNT0,F
	GOTO	DL0
	REG_ON
	REG_OFF	
	

RETURN
;===============================================================






;=======================	CLEAR	RAM		====================
CLRAM
	MOVLW		.64
	MOVWF		POINTER
	MOVLW		DRAM
	MOVWF		FSR

DRM0
	MOVLW		0XFF
	MOVWF		INDF
	MOVLW		INDF
	
	INCF		FSR, F
	DECFSZ		POINTER, F
	GOTO		DRM0

	CALL		DATALATCH
	 
	RETURN
;===============================================================







;==========	DELAY USEC =========
DELAY_US

	MOVWF	DELAYUS

USEC

	NOP
 	NOP
	NOP
	NOP
DECFSZ	DELAYUS,F

GOTO	USEC

RETURN
;=================================



;=========== DELAY ONE MS ========
DELAY_ONEMS

	MOVLW	.5
	MOVWF	MILSEC

MSEC
	MOVLW	.200
	CALL	DELAY_US
	DECFSZ	MILSEC,F
	GOTO	MSEC

RETURN
;==================================


;=========== DELAY MS	===========
DELAY_MS
	
	MOVWF	DELAYMS
MSEC0
	CALL	DELAY_ONEMS
	DECFSZ	DELAYMS,F
	GOTO	MSEC0
RETURN
;==================================

;=========== DELAY	ONE	SECOND ====
DELAY_ONESEC

	MOVLW	.5
	MOVWF	SEC
SEC0
	MOVLW	.200
	CALL	DELAY_MS
	DECFSZ	SEC,F
	GOTO	SEC0
RETURN
;==================================

;==========	DELAY SEC =============
DELAY_SEC

	MOVWF	DELAYS
SEC1
	CALL	DELAY_ONESEC
	DECFSZ	DELAYS,F
	GOTO	SEC1
RETURN
;==================================






;;########## SHIFT LEFT ##############
;
;
;SHIFTL_GRPA
;
;SHIFTL_GRPB
;	MOVLW	.1
;	MOVWF	TESTER
;
;	MOVFW		ROW
;	SUBWF		TESTER,W
;	BTFSC		STATUS,Z
;	GOTO		SB08_FLAG
;
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;SB00
;	SETC		1
;	RLF			DRAM+37
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB00
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+33,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB01
;	SETC		1
;	RLF			DRAM+27
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB01
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+23,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB02
;	SETC		1
;	RLF			DRAM+17
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB02
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+13,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB03
;	SETC		1
;	RLF			DRAM+07
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB03
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+03,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;SB04
;	SETC		1
;	RLF			DRAM+36
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB04
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+32,F
;	
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB05
;	SETC		1
;	RLF			DRAM+26
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB05	
;
;
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+22,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB06
;	SETC		1
;	RLF			DRAM+16
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB06
;
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+12,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4	
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB07
;	SETC		1
;	RLF			DRAM+06
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB07
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+02,F
;RETURN	
;
;SB08_FLAG
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB08	
;	SETC		1
;	RLF			DRAM+35
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB08
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+31,F
;	
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB09
;	SETC		1
;	RLF			DRAM+25
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB09
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+21,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB0A
;	SETC		1
;	RLF			DRAM+15
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB0A
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+11,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB0B
;	SETC		1
;	RLF			DRAM+05
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB0B
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+01,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4	
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB0C
;	SETC		1
;	RLF			DRAM+34
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F	
;	GOTO		SB0C
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+30,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB0D
;	SETC		1
;	RLF			DRAM+24
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB0D
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+20,F
;	
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB0E
;	SETC		1
;	RLF			DRAM+14
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB0E
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+10,F
;	
;	MOVFW		SHCNT
;	MOVWF		COUNT4	
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SB0F
;	SETC		1
;	RLF			DRAM+04
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SB0F
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+00,
;
;RETURN
;
;
;SHIFTL_GRPC
;	MOVFW		ROW
;	SUBWF		TESTER,W
;	BTFSC		STATUS,Z
;	GOTO		SC08_FLAG
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC00
;	SETC		1
;	RLF			DRAM+3B
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC00
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+37,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC01
;	SETC		1
;	RLF			DRAM+2B
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC01
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+27,F
;
;	
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;	
;
;SC02
;	SETC		1
;	RLF			DRAM+1B
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC02
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+17,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC03
;	SETC		1
;	RLF			DRAM+0B
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC03
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+07,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC04
;	SETC		1
;	RLF			DRAM+3A
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC04
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+36,F
;	
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4	
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC05
;	SETC		1
;	RLF			DRAM+2A
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC05
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+26,F
;
;	
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;	
;SC06
;	SETC		1
;	RLF			DRAM+1A
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC06
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+16,F
;
;	
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC07
;	SETC		1
;	RLF			DRAM+0A
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC07
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+06,F
;
;RETURN
;
;SC08_FLAG
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;SC08
;	SETC		1
;	RLF			DRAM+39
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC08
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+35,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC09
;	SETC		1
;	RLF			DRAM+29
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC09
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+25,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC0A
;	SETC		1
;	RLF			DRAM+19
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC0A
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+15,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC0B
;	SETC		1
;	RLF			DRAM+09
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC0B
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+05,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC0C
;	SETC		1
;	RLF			DRAM+38
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC0C
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+34,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC0D
;	SETC		1
;	RLF			DRAM+28
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC0D
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+24,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC0E
;	SETC		1
;	RLF			DRAM+18
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC0E
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+14,F
;	
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SC0F
;	SETC		1
;	RLF			DRAM+08
;	RLF			TEMPFILE
;	DECFSZ		COUNT4
;	GOTO		SC0F
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+04,F
;
;
;RETURN
;
;
;SHIFTL_GRPD
;
;	MOVFW		ROW
;	SUBWF		TESTER,W
;	BTFSC		STATUS,Z
;	GOTO		SD08_FLAG
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD00
;	SETC		1
;	RLF			DRAM+3F
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD00
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+3B,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD01
;	SETC		1
;	RLF			DRAM+2F
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD01
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+2B,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD02
;	SETC		1
;	RLF			DRAM+1F
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD02
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+1B,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD03
;	SETC		1
;	RLF			DRAM+0F
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD03
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+0B,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD04
;	SETC		1
;	RLF			DRAM+3E
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD04
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+3A,F
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD05
;	SETC		1
;	RLF			DRAM+2E
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD05
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+2A,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD06
;	SETC		1
;	RLF			DRAM+1E
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD06
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+1A,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4	
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD07
;	SETC		1
;	RLF			DRAM+0E
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD07
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+0A,F
;
;RETURN
;
;SD08_FLAG
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD08
;	SETC		1
;	RLF			DRAM+3D
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD08
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+39,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD09
;	SETC		1
;	RLF			DRAM+2D
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD09
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+29,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD0A
;	SETC		1
;	RLF			DRAM+1D
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD0A
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+19,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD0B
;	SETC		1
;	RLF			DRAM+0D
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD0B
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+09,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD0C
;	SETC		1
;	RLF			DRAM+3C
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD0C
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+38,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD0D
;	SETC		1
;	RLF			DRAM+2C
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD0D
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+28,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD0E
;	SETC		1
;	RLF			DRAM+1C
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD0E
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+18,F
;
;
;	MOVFW		SHCNT
;	MOVWF		COUNT4
;	MOVLW		0XFF
;	MOVWF		TEMPFILE
;
;SD0F
;	SETC		1
;	RLF			DRAM+0C
;	RLF			TEMPFILE
;	DECFSZ		COUNT4,F
;	GOTO		SD0F
;
;	MOVFW		TEMPFILE
;	ANDWF		DRAM+08,F
;	
;RETURN
;;#################################


;#################	SHIFT X	RIGHT ################################

ORG 0X500
SHIFTR
	MOVFW	CURSORX
	ADDWF	PCL,F
	

		GOTO	GRP_C
	GOTO	GRP_C
	GOTO	GRP_C
	GOTO	GRP_C
	GOTO	GRP_C
	GOTO	GRP_C
	GOTO	GRP_C
	GOTO	GRP_C
	GOTO	GRP_C
		GOTO	GRP_B
	GOTO	GRP_B
	GOTO	GRP_B
	GOTO	GRP_B
	GOTO	GRP_B
	GOTO	GRP_B
	GOTO	GRP_B
	GOTO	GRP_B
	GOTO	GRP_B
		GOTO	GRP_A
	GOTO	GRP_A
	GOTO	GRP_A
	GOTO	GRP_A
	GOTO	GRP_A
	GOTO	GRP_A
	GOTO	GRP_A
	GOTO	GRP_A


GRP_A
;--------------------
	MOVFW	CURSORX
	MOVWF	SHCNT

	MOVLW	.1
	MOVWF	TESTER

	MOVFW	ROW
	SUBWF	TESTER,W
	BTFSC	STATUS,Z
	GOTO	SRA08_R1
	
SRA00
	SETC	1
	RRF		DRAM + 33
	RRF		DRAM + 37
	RRF		DRAM + 3B
	RRF		DRAM + 3F
	DECFSZ	SHCNT
	GOTO	SRA00

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA01
	RRF		DRAM + 23
	RRF		DRAM + 27
	RRF		DRAM + 2B
	RRF		DRAM + 2F
	DECFSZ	SHCNT
	GOTO	SRA01

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA02
	RRF		DRAM + 13
	RRF		DRAM + 17
	RRF		DRAM + 1B
	RRF		DRAM + 1F
	DECFSZ	SHCNT
	GOTO	SRA02

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA03
	RRF		DRAM + 03
	RRF		DRAM + 07
	RRF		DRAM + 0B
	RRF		DRAM + 0F
	DECFSZ	SHCNT
	GOTO	SRA03

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA04
	RRF		DRAM + 32
	RRF		DRAM + 36
	RRF		DRAM + 3A
	RRF		DRAM + 3E
	DECFSZ	SHCNT
	GOTO	SRA04

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA05
	RRF		DRAM + 22
	RRF		DRAM + 26
	RRF		DRAM + 2A
	RRF		DRAM + 2E
	DECFSZ	SHCNT
	GOTO	SRA05

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA06
	RRF		DRAM + 12
	RRF		DRAM + 16
	RRF		DRAM + 1A
	RRF		DRAM + 1E
	DECFSZ	SHCNT
	GOTO	SRA06


	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA07
	RRF		DRAM + 02
	RRF		DRAM + 06
	RRF		DRAM + 0A
	RRF		DRAM + 0E
	DECFSZ	SHCNT
	GOTO	SRA07

	MOVF	CURSORX,0
	MOVWF	SHCNT
RETURN
SRA08_R1
	SETC	1
SRA08
	RRF		DRAM + 31
	RRF		DRAM + 35
	RRF		DRAM + 39
	RRF		DRAM + 3D
	DECFSZ	SHCNT
	GOTO	SRA08

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA09
	RRF		DRAM + 21
	RRF		DRAM + 25
	RRF		DRAM + 29
	RRF		DRAM + 2D
	DECFSZ	SHCNT
	GOTO	SRA09
	
	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA0A
	RRF		DRAM + 11
	RRF		DRAM + 15
	RRF		DRAM + 19
	RRF		DRAM + 1D
	DECFSZ	SHCNT
	GOTO	SRA0A

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA0B
	RRF		DRAM + 01
	RRF		DRAM + 05
	RRF		DRAM + 09
	RRF		DRAM + 0D
	DECFSZ	SHCNT
	GOTO	SRA0B

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA0C
	RRF		DRAM + 30
	RRF		DRAM + 34
	RRF		DRAM + 38
	RRF		DRAM + 3C
	DECFSZ	SHCNT
	GOTO	SRA0C

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA0D
	RRF		DRAM + 20
	RRF		DRAM + 24
	RRF		DRAM + 28
	RRF		DRAM + 2C
	DECFSZ	SHCNT
	GOTO	SRA0D

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRA0E
	RRF		DRAM + 10
	RRF		DRAM + 14
	RRF		DRAM + 18
	RRF		DRAM + 1C
	DECFSZ	SHCNT
	GOTO	SRA0E
	
	MOVF	CURSORX,0
	MOVWF	SHCNT
SRA0F
	RRF		DRAM + 00
	RRF		DRAM + 04
	RRF		DRAM + 08
	RRF		DRAM + 0C
	DECFSZ	SHCNT
	GOTO	SRA0F

RETURN

GRP_B

;--------------------
	MOVFW	CURSORX
	MOVWF	SHCNT

	MOVLW	.1
	MOVWF	TESTER

	MOVFW	ROW
	SUBWF	TESTER,W
	BTFSC	STATUS,Z
	GOTO	SRB08


	
SRB00
	SETC	1
	RRF		DRAM + 33
	RRF		DRAM + 37
	RRF		DRAM + 3B

	DECFSZ	SHCNT
	GOTO	SRB00

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB01
	RRF		DRAM + 23
	RRF		DRAM + 27
	RRF		DRAM + 2B

	DECFSZ	SHCNT
	GOTO	SRB01

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB02
	RRF		DRAM + 13
	RRF		DRAM + 17
	RRF		DRAM + 1B

	DECFSZ	SHCNT
	GOTO	SRB02

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB03
	RRF		DRAM + 03
	RRF		DRAM + 07
	RRF		DRAM + 0B

	DECFSZ	SHCNT
	GOTO	SRB03

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB04
	RRF		DRAM + 32
	RRF		DRAM + 36
	RRF		DRAM + 3A

	DECFSZ	SHCNT
	GOTO	SRB04

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB05
	RRF		DRAM + 22
	RRF		DRAM + 26
	RRF		DRAM + 2A

	DECFSZ	SHCNT
	GOTO	SRB05

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB06
	RRF		DRAM + 12
	RRF		DRAM + 16
	RRF		DRAM + 1A

	DECFSZ	SHCNT
	GOTO	SRB06


	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB07
	RRF		DRAM + 02
	RRF		DRAM + 06
	RRF		DRAM + 0A

	DECFSZ	SHCNT
	GOTO	SRB07

	MOVF	CURSORX,0
	MOVWF	SHCNT
RETURN
SRB08_R1
	SETC	1
SRB08
	RRF		DRAM + 31
	RRF		DRAM + 35
	RRF		DRAM + 39

	DECFSZ	SHCNT
	GOTO	SRB08

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB09
	RRF		DRAM + 21
	RRF		DRAM + 25
	RRF		DRAM + 29

	DECFSZ	SHCNT
	GOTO	SRB09
	
	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB0A
	RRF		DRAM + 11
	RRF		DRAM + 15
	RRF		DRAM + 19

	DECFSZ	SHCNT
	GOTO	SRB0A

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB0B
	RRF		DRAM + 01
	RRF		DRAM + 05
	RRF		DRAM + 09

	DECFSZ	SHCNT
	GOTO	SRB0B

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB0C
	RRF		DRAM + 30
	RRF		DRAM + 34
	RRF		DRAM + 38

	DECFSZ	SHCNT
	GOTO	SRB0C

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB0D
	RRF		DRAM + 20
	RRF		DRAM + 24
	RRF		DRAM + 28

	DECFSZ	SHCNT
	GOTO	SRB0D

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRB0E
	RRF		DRAM + 10
	RRF		DRAM + 14
	RRF		DRAM + 18

	DECFSZ	SHCNT
	GOTO	SRB0E
	
	MOVF	CURSORX,0
	MOVWF	SHCNT
SRB0F
	RRF		DRAM + 00
	RRF		DRAM + 04
	RRF		DRAM + 08

	DECFSZ	SHCNT
	GOTO	SRB0F

RETURN


GRP_C
	;--------------------
	MOVFW	CURSORX
	MOVWF	SHCNT

	MOVLW	.1
	MOVWF	TESTER

	MOVFW	ROW
	SUBWF	TESTER,W
	BTFSC	STATUS,Z
	GOTO	SRC08


	
SRC00
	SETC	1
	RRF		DRAM + 33
	RRF		DRAM + 37


	DECFSZ	SHCNT
	GOTO	SRC00

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC01
	RRF		DRAM + 23
	RRF		DRAM + 27


	DECFSZ	SHCNT
	GOTO	SRC01

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC02
	RRF		DRAM + 13
	RRF		DRAM + 17


	DECFSZ	SHCNT
	GOTO	SRC02

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC03
	RRF		DRAM + 03
	RRF		DRAM + 07


	DECFSZ	SHCNT
	GOTO	SRC03

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC04
	RRF		DRAM + 32
	RRF		DRAM + 36


	DECFSZ	SHCNT
	GOTO	SRC04

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC05
	RRF		DRAM + 22
	RRF		DRAM + 26


	DECFSZ	SHCNT
	GOTO	SRC05

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC06
	RRF		DRAM + 12
	RRF		DRAM + 16


	DECFSZ	SHCNT
	GOTO	SRC06


	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC07
	RRF		DRAM + 02
	RRF		DRAM + 06


	DECFSZ	SHCNT
	GOTO	SRC07

	MOVF	CURSORX,0
	MOVWF	SHCNT
RETURN
SRC08_R1
	SETC	1
SRC08
	RRF		DRAM + 31
	RRF		DRAM + 35


	DECFSZ	SHCNT
	GOTO	SRC08

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC09
	RRF		DRAM + 21
	RRF		DRAM + 25


	DECFSZ	SHCNT
	GOTO	SRC09
	
	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC0A
	RRF		DRAM + 11
	RRF		DRAM + 15


	DECFSZ	SHCNT
	GOTO	SRC0A

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC0B
	RRF		DRAM + 01
	RRF		DRAM + 05


	DECFSZ	SHCNT
	GOTO	SRC0B

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC0C
	RRF		DRAM + 30
	RRF		DRAM + 34


	DECFSZ	SHCNT
	GOTO	SRC0C

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC0D
	RRF		DRAM + 20
	RRF		DRAM + 24


	DECFSZ	SHCNT
	GOTO	SRC0D

	MOVF	CURSORX,0
	MOVWF	SHCNT

SRC0E
	RRF		DRAM + 10
	RRF		DRAM + 14


	DECFSZ	SHCNT
	GOTO	SRC0E
	
	MOVF	CURSORX,0
	MOVWF	SHCNT
SRC0F
	RRF		DRAM + 00
	RRF		DRAM + 04


	DECFSZ	SHCNT
	GOTO	SRC0F

RETURN

GRP_D

	NOP
	NOP

RETURN










	ORG 0X800
	
CHAR



	MOVFW	NUMBER
	ADDWF	PCL,F

	GOTO	ZERO

	GOTO	ONE

	GOTO	TWO

	GOTO	THREE
	
	GOTO	FOUR
	
	GOTO	FIVE
	
	GOTO	SIX
	
	GOTO	SEVEN

	GOTO	EIGHT

	GOTO	NINE
		





	ZERO
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'11000111'
			DT	B'10000011'
			DT	B'00010001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00010001'
			DT	B'10000011'
			DT	B'11000111'
			MOVLW	.0
			MOVWF	PCLATH

	ONE
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	7
			DT	B'11001111'
			DT	B'11001111'
			DT	B'10001111'
			DT	B'00001111'
			DT	B'01001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'00000011'
			DT	B'00000011'

	TWO
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'10000111'
			DT	B'00000011'
			DT	B'00110001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11110001'
			DT	B'10000011'
			DT	B'00000111'
			DT	B'00111111'
			DT	B'00111101'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00000001'
			DT	B'00000001'
				

	THREE
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'10000111'
			DT	B'00000011'
			DT	B'00110001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11110001'
			DT	B'11000011'
			DT	B'11000011'
			DT	B'11110001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'00110001'
			DT	B'00000011'
			DT	B'10000111'
			

	FOUR
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'11111101'
			DT	B'11111001'
			DT	B'11101001'
			DT	B'11001001'
			DT	B'11001001'
			DT	B'11001001'
			DT	B'10011001'
			DT	B'00111001'
			DT	B'00000001'
			DT	B'00000001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111011'

	FIVE
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'00000001'
			DT	B'00000001'
			DT	B'00111001'
			DT	B'00111011'
			DT	B'00111111'
			DT	B'00111111'
			DT	B'00111111'
			DT	B'00000111'
			DT	B'00000011'
			DT	B'11110001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11110001'
			DT	B'00000011'
			DT	B'00000111'


	SIX
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'11000111'
			DT	B'10000011'
			DT	B'00010001'
			DT	B'00111001'
			DT	B'00111111'
			DT	B'00111111'
			DT	B'00111111'
			DT	B'00100111'
			DT	B'00000011'
			DT	B'00010001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00010001'
			DT	B'10000011'
			DT	B'11000111'

	SEVEN	
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8	
			DT	B'00000001'
			DT	B'00000001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11110011'
			DT	B'11100111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
			DT	B'11001111'
				
	EIGHT
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'11000111'
			DT	B'10000011'
			DT	B'00010001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'10010011'
			DT	B'11000111'
			DT	B'10000011'
			DT	B'00010001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00010001'
			DT	B'10000011'
			DT	B'11000111'

	NINE
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	8
			DT	B'11000111'
			DT	B'10000011'
			DT	B'00010001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00111001'
			DT	B'00010001'
			DT	B'10000001'
			DT	B'11001001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'11111001'
			DT	B'00111001'
			DT	B'00010001'
			DT	B'10000011'
			DT	B'11000111'


	ORG 0X900

L_CHAR
	
	MOVFW	NUMBER
	ADDWF	PCL,F
	
	GOTO	L_ZERO
	
	GOTO	L_ONE

	GOTO	L_TWO

	GOTO	L_THREE

	GOTO	L_FOUR

	GOTO	L_FIVE

	GOTO	L_SIX

	GOTO	L_SEVEN

	GOTO	L_EIGHT

	GOTO	L_NINE



	L_ZERO

			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111';
			DT	B'10001111'
			DT	B'01110111'
			DT	B'01110111'
			DT	B'01110111'
			DT	B'01110111'
			DT	B'01110111'
			DT	B'10001111'
			
	L_ONE

			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111';
			DT	B'11011111'
			DT	B'10011111'
			DT	B'11011111'
			DT	B'11011111'
			DT	B'11011111'
			DT	B'11011111'
			DT	B'10001111'

	L_TWO
	
			
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111';
			DT	B'10001111'
			DT	B'01110111'
			DT	B'11110111'
			DT	B'10001111'
			DT	B'01111111'
			DT	B'01110111'
			DT	B'00000111'

	L_THREE
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111';
			DT	B'10001111'
			DT	B'01110111'
			DT	B'11110111'
			DT	B'11001111'
			DT	B'11110111'
			DT	B'01110111'
			DT	B'10001111'


	
	L_FOUR
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111'
			DT	B'11100111'
			DT	B'11010111'
			DT	B'10110111'
			DT	B'00000111'
			DT	B'11110111'
			DT	B'11110111'
			DT	B'11110111';


	L_FIVE
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111'
			DT	B'00000111'
			DT	B'01110111'
			DT	B'01111111'
			DT	B'00001111'
			DT	B'11110111'
			DT	B'11110111'
			DT	B'00001111';


	L_SIX
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111'
			DT	B'10000111'
			DT	B'01111011'
			DT	B'01111111'
			DT	B'00000111'
			DT	B'01111011'
			DT	B'01111011'
			DT	B'10000111'
	
	L_SEVEN
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111'
			DT	B'00000111'
			DT	B'11110111'
			DT	B'11101111'
			DT	B'11011111'
			DT	B'11011111'
			DT	B'11011111'
			DT	B'11011111'
			
	L_EIGHT
			MOVFW	BTCOUNT
			ADDWF	PCL, F
			DT	5
			DT	B'11111111';
			DT	B'10001111'
			DT	B'01110111'
			DT	B'01110111'
			DT	B'10001111'
			DT	B'01110111'
			DT	B'01110111'
			DT	B'10001111'

	L_NINE
			MOVFW	BTCOUNT
			ADDWF	PCL, F

			DT	5
			DT	B'11111111';
			DT	B'10001111'	
			DT	B'01110111'
			DT	B'01110111'
			DT	B'10000111'
			DT	B'11110111'
			DT	B'01110111'
			DT	B'10001111'

	
	
	ORG	0XA00
	
T_CHAR
		
	MOVFW	NUMBER
	ADDWF	PCL,F
	
	GOTO	T_ZERO
	
	GOTO	T_ONE

	GOTO	T_TWO

	GOTO	T_THREE

	GOTO	T_FOUR

	GOTO	T_FIVE

	GOTO	NEXTPAGE

	GOTO	NEXTPAGE

	GOTO	NEXTPAGE

	GOTO	NEXTPAGE

NEXTPAGE
	MOVLW	0XB
	MOVWF	PCLATH
	GOTO	T_CHARB


	T_ZERO
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'11000000',B'11111111'
			DT	B'10000000',B'01111111'
			DT	B'00011110',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111';
			DT	B'00111111',B'00111111';
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'01111111'
			DT	B'11000000',B'11111111'

	T_ONE
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'11001111',B'11111111'
			DT	B'11001111',B'11111111'
			DT	B'10001111',B'11111111'
			DT	B'00001111',B'11111111'
			DT	B'01001111',B'11111111'
			DT	B'11001111',B'11111111'
			DT	B'11001111',B'11111111'
			DT	B'11001111',B'11111111';
			DT	B'11001111',B'11111111';
			DT	B'11001111',B'11111111'
			DT	B'11001111',B'11111111'
			DT	B'11001111',B'11111111'
			DT	B'11001111',B'11111111'
			DT	B'11001111',B'11111111'
			DT	B'00000011',B'11111111'
			DT	B'00000011',B'11111111'	

	T_TWO
			MOVFW	BTCOUNT
			ADDWF	PCL,F
			
			DT	.12
			DT	B'11000000',B'11111111'
			DT	B'10000000',B'01111111'
			DT	B'00111110',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111110',B'00111111'
			DT	B'11000000',B'01111111'
			DT	B'10000000',B'11111111'
			DT	B'00111111',B'11111111'
			DT	B'00111111',B'11111111'
			DT	B'00111111',B'11111111'
			DT	B'00111111',B'00111111'
			DT	B'00000000',B'00111111'
			DT	B'00000000',B'00111111'
	
	T_THREE
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'11000000',B'11111111'
			DT	B'10000000',B'01111111'
			DT	B'00011110',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111110',B'00111111'
			DT	B'11100000',B'01111111';
			DT	B'11100000',B'01111111';
			DT	B'11111110',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'01111111'
			DT	B'11000000',B'11111111'
	
	T_FOUR
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'11111111',B'10111111'
			DT	B'11111001',B'00111111'
			DT	B'11111001',B'00111111'
			DT	B'11111001',B'00111111'
			DT	B'11110011',B'00111111'
			DT	B'11100111',B'00111111'
			DT	B'11001111',B'00111111'
			DT	B'10011111',B'00111111';
			DT	B'00111111',B'00111111';
			DT	B'00111111',B'00111111'
			DT	B'00000000',B'00111111'
			DT	B'00000000',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'01111111'	

	T_FIVE
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'00000000',B'00111111'
			DT	B'00000000',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'01111111'
			DT	B'00111111',B'11111111'
			DT	B'00111111',B'11111111'
			DT	B'00111111',B'11111111'
			DT	B'00000000',B'11111111';
			DT	B'00000000',B'01111111';
			DT	B'11111110',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'01111111'
			DT	B'11000000',B'11111111'
	

ORG	0XB00

	T_CHARB

			MOVFW	NUMBER
			ADDWF	PCL,F

				RETURN	

				RETURN

				RETURN

				RETURN

				RETURN

				RETURN
				
				GOTO	T_SIX
	
				GOTO	T_SEVEN
		
				GOTO	T_EIGHT
		
				GOTO	T_NINE


			
	T_SIX
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'11000000',B'01111111'
			DT	B'10000000',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'11111111'
			DT	B'00111111',B'11111111'
			DT	B'00011111',B'11111111'
			DT	B'00000000',B'11111111';
			DT	B'00000000',B'01111111';
			DT	B'00011110',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'01111111'
			DT	B'11000000',B'11111111'
	
			
	T_SEVEN
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'00000000',B'00111111'
			DT	B'00000000',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111110',B'00111111'
			DT	B'11111100',B'01111111';
			DT	B'11111000',B'11111111';
			DT	B'11110001',B'11111111'
			DT	B'11100011',B'11111111'
			DT	B'11100111',B'11111111'
			DT	B'11100111',B'11111111'
			DT	B'11100111',B'11111111'
			DT	B'11100111',B'11111111'
			DT	B'11100111',B'11111111'	
	
	T_EIGHT
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'11000000',B'11111111'
			DT	B'10000000',B'01111111'
			DT	B'00011110',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'01111111'
			DT	B'10000000',B'01111111';
			DT	B'00011110',B'00111111';
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'01111111'
			DT	B'11000000',B'11111111'	

	T_NINE
			MOVFW	BTCOUNT
			ADDWF	PCL

			DT	.12
			DT	B'11000000',B'11111111'
			DT	B'10000000',B'01111111'
			DT	B'00011110',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'00111111';
			DT	B'11000000',B'00111111';
			DT	B'11111110',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'11111111',B'00111111'
			DT	B'00111111',B'00111111'
			DT	B'00011110',B'00111111'
			DT	B'10000000',B'01111111'
			DT	B'11000000',B'11111111'

ORG		0XD00

CMD_CLR_IRAM
	BANK1
	MOVLW		.64
	MOVWF		IPOINTER
	MOVLW		IRAM
	MOVWF		FSR

IRM0
	MOVLW		0XFF
	MOVWF		INDF
	MOVLW		INDF
	
	INCF		FSR, F
	DECFSZ		IPOINTER, F
	GOTO		IRM0
	 
	RETURN



;###################  DUMPING OF DATA IN IRAM ################

IDUMP
	MOVLW	.0
	MOVWF	BTCOUNT
		
	MOVFW	FONT
	ADDWF	PCL,F

	GOTO	IFONT_0
	
	GOTO	IFONT_1
	
	GOTO	IFONT_2



IFONT_0
	BANK1
	MOVLW	.8
	MOVWF	PCLATH

	CALL	CHAR
	MOVWF	IWIDTH
	INCF	BTCOUNT


	CALL	CHAR
	MOVWF	IRAM+33
	INCF	BTCOUNT

	
	CALL	CHAR
	MOVWF	IRAM+23
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+13
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+03
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+32
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+22
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+12
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+02
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+31
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+21
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+11
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+01
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+30
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+20
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+10
	INCF	BTCOUNT

	CALL	CHAR
	MOVWF	IRAM+00
	INCF	BTCOUNT

	MOVLW	.0			;BACK TO PAGE1
	MOVWF	PCLATH
	BANK0
RETURN

IFONT_1
	BANK1
	MOVLW	.9
	MOVWF	PCLATH

	CALL	L_CHAR
	MOVWF	IWIDTH
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+31
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+21
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+11
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+01
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+30
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+20
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+10
	INCF	BTCOUNT

	CALL	L_CHAR
	MOVWF	IRAM+00
	INCF	BTCOUNT

	MOVLW	.0			;BACK TO PAGE1
	MOVWF	PCLATH
	BANK0
	RETURN

IFONT_2
	MOVLW	0XA
	MOVWF	PCLATH


	CALL	T_CHAR
	BANK1
	MOVWF	IWIDTH
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+33
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+37
	BANK0
	INCF	BTCOUNT
	

	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+23
	BANK0
	INCF	BTCOUNT
	

	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+27
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+13
	BANK0
	INCF	BTCOUNT
	

	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+17
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+03
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+07
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+32
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+36
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+22
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+26
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+12
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+16
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+02
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+06
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+31
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+35
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+21
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+25
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+11
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+15
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+01
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+05
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+30
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+34
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+20
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+24
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+10
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+14
	BANK0
	INCF	BTCOUNT


	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+00
	BANK0
	INCF	BTCOUNT
	

	CALL	T_CHAR
	BANK1
	MOVWF	IRAM+04
	BANK0
	INCF	BTCOUNT


	MOVLW	.0			;BACK TO PAGE1
	MOVWF	PCLATH
	BANK0
RETURN
;########################################



ORG	0XF00
;#############	SCROLL DOWN  ############
ISCRL_DOWN_GRPA

	CALL	ISHIFT_DOWN_GRPA
	CALL	DSHIFT_DOWN_GRPA

	CALL	ISHIFT_DOWN_GRPB
	CALL	DSHIFT_DOWN_GRPB
	
	MOVLW	4
	MOVWF	PCLATH
	CALL	ISHIFT_DOWN_GRPC
	CALL	DSHIFT_DOWN_GRPC

	MOVLW	0XF
	MOVWF	PCLATH

	RETURN
	MOVFW	FONT
	ADDWF	PCL,F

	RETURN
	RETURN
	RETURN
	RETURN
	CALL	ISHIFT_DOWN_GRPB
	CALL	DSHIFT_DOWN_GRPB

RETURN
	






;############## DRAM SHIFT Y DOWN GROUPA #############
DSHIFT_DOWN_GRPA
	BANK0
	MOVFW	DRAM+10
	MOVWF	DRAM+00

	MOVFW	DRAM+20
	MOVWF	DRAM+10

	MOVFW	DRAM+30
	MOVWF	DRAM+20

	MOVFW	DRAM+01
	MOVWF	DRAM+30

	MOVFW	DRAM+11
	MOVWF	DRAM+01

	MOVFW	DRAM+21
	MOVWF	DRAM+11

	MOVFW	DRAM+31
	MOVWF	DRAM+21

	MOVFW	DRAM+02
	MOVWF	DRAM+31

	MOVFW	DRAM+12
	MOVWF	DRAM+02

	MOVFW	DRAM+22
	MOVWF	DRAM+12

	MOVFW	DRAM+32
	MOVWF	DRAM+22

	MOVFW	DRAM+03
	MOVWF	DRAM+32

	MOVFW	DRAM+13
	MOVWF	DRAM+03

	MOVFW	DRAM+23
	MOVWF	DRAM+13

	MOVFW	DRAM+33
	MOVWF	DRAM+23

	MOVFW	TEMPFILE
	MOVWF	DRAM+33
RETURN

;############## IRAM SHIFT Y DOWN GROUP A #############
ISHIFT_DOWN_GRPA
	BANK1
	MOVFW	IRAM+00
	BANK0
	MOVWF	TEMPFILE
	BANK1
	MOVFW	IRAM+10
	MOVWF	IRAM+00

	MOVFW	IRAM+20
	MOVWF	IRAM+10

	MOVFW	IRAM+30
	MOVWF	IRAM+20

	MOVFW	IRAM+01
	MOVWF	IRAM+30

	MOVFW	IRAM+11
	MOVWF	IRAM+01

	MOVFW	IRAM+21
	MOVWF	IRAM+11

	MOVFW	IRAM+31
	MOVWF	IRAM+21

	MOVFW	IRAM+02
	MOVWF	IRAM+31

	MOVFW	IRAM+12
	MOVWF	IRAM+02

	MOVFW	IRAM+22
	MOVWF	IRAM+12

	MOVFW	IRAM+32
	MOVWF	IRAM+22

	MOVFW	IRAM+03
	MOVWF	IRAM+32

	MOVFW	IRAM+13
	MOVWF	IRAM+03

	MOVFW	IRAM+23
	MOVWF	IRAM+13

	MOVFW	IRAM+33
	MOVWF	IRAM+23

	RETURN



;############## DRAM SHIFT Y DOWN GROUPB #############
DSHIFT_DOWN_GRPB
	BANK0
	MOVFW	DRAM+14
	MOVWF	DRAM+04

	MOVFW	DRAM+24
	MOVWF	DRAM+14

	MOVFW	DRAM+34
	MOVWF	DRAM+24

	MOVFW	DRAM+05
	MOVWF	DRAM+34

	MOVFW	DRAM+15
	MOVWF	DRAM+05

	MOVFW	DRAM+25
	MOVWF	DRAM+15

	MOVFW	DRAM+35
	MOVWF	DRAM+25

	MOVFW	DRAM+06
	MOVWF	DRAM+35

	MOVFW	DRAM+16
	MOVWF	DRAM+06

	MOVFW	DRAM+26
	MOVWF	DRAM+16

	MOVFW	DRAM+36
	MOVWF	DRAM+26

	MOVFW	DRAM+07
	MOVWF	DRAM+36

	MOVFW	DRAM+17
	MOVWF	DRAM+07

	MOVFW	DRAM+27
	MOVWF	DRAM+17

	MOVFW	DRAM+37
	MOVWF	DRAM+27

	MOVFW	TEMPFILEB
	MOVWF	DRAM+37
RETURN

;############## IRAM SHIFT Y DOWN GROUP B #############
ISHIFT_DOWN_GRPB
	BANK1
	MOVFW	IRAM+04
	BANK0
	MOVWF	TEMPFILEB
	BANK1
	MOVFW	IRAM+14
	MOVWF	IRAM+04

	MOVFW	IRAM+24
	MOVWF	IRAM+14

	MOVFW	IRAM+34
	MOVWF	IRAM+24

	MOVFW	IRAM+05
	MOVWF	IRAM+34

	MOVFW	IRAM+15
	MOVWF	IRAM+05

	MOVFW	IRAM+25
	MOVWF	IRAM+15

	MOVFW	IRAM+35
	MOVWF	IRAM+25

	MOVFW	IRAM+06
	MOVWF	IRAM+35

	MOVFW	IRAM+16
	MOVWF	IRAM+06

	MOVFW	IRAM+26
	MOVWF	IRAM+16

	MOVFW	IRAM+36
	MOVWF	IRAM+26

	MOVFW	IRAM+07
	MOVWF	IRAM+36

	MOVFW	IRAM+17
	MOVWF	IRAM+07

	MOVFW	IRAM+27
	MOVWF	IRAM+17

	MOVFW	IRAM+37
	MOVWF	IRAM+27

	RETURN

ORG 0X400
;############## DRAM SHIFT Y DOWN GROUPC #############
DSHIFT_DOWN_GRPC
	BANK0
	MOVFW	DRAM+18
	MOVWF	DRAM+08

	MOVFW	DRAM+28
	MOVWF	DRAM+18

	MOVFW	DRAM+38
	MOVWF	DRAM+28

	MOVFW	DRAM+09
	MOVWF	DRAM+38

	MOVFW	DRAM+19
	MOVWF	DRAM+09

	MOVFW	DRAM+29
	MOVWF	DRAM+19

	MOVFW	DRAM+39
	MOVWF	DRAM+29

	MOVFW	DRAM+0A
	MOVWF	DRAM+39

	MOVFW	DRAM+1A
	MOVWF	DRAM+0A

	MOVFW	DRAM+2A
	MOVWF	DRAM+1A

	MOVFW	DRAM+3A
	MOVWF	DRAM+2A

	MOVFW	DRAM+0B
	MOVWF	DRAM+3A

	MOVFW	DRAM+1B
	MOVWF	DRAM+0B

	MOVFW	DRAM+2B
	MOVWF	DRAM+1B

	MOVFW	DRAM+3B
	MOVWF	DRAM+2B

	MOVFW	TEMPFILEC
	MOVWF	DRAM+3B
RETURN

;############## IRAM SHIFT Y DOWN GROUP C #############
ISHIFT_DOWN_GRPC
	BANK1
	MOVFW	IRAM+08
	BANK0
	MOVWF	TEMPFILEC
	BANK1
	MOVFW	IRAM+18
	MOVWF	IRAM+08

	MOVFW	IRAM+28
	MOVWF	IRAM+18

	MOVFW	IRAM+38
	MOVWF	IRAM+28

	MOVFW	IRAM+09
	MOVWF	IRAM+38

	MOVFW	IRAM+19
	MOVWF	IRAM+09

	MOVFW	IRAM+29
	MOVWF	IRAM+19

	MOVFW	IRAM+39
	MOVWF	IRAM+29

	MOVFW	IRAM+0A
	MOVWF	IRAM+39

	MOVFW	IRAM+1A
	MOVWF	IRAM+0A

	MOVFW	IRAM+2A
	MOVWF	IRAM+1A

	MOVFW	IRAM+3A
	MOVWF	IRAM+2A

	MOVFW	IRAM+0B
	MOVWF	IRAM+3A

	MOVFW	IRAM+1B
	MOVWF	IRAM+0B

	MOVFW	IRAM+2B
	MOVWF	IRAM+1B

	MOVFW	IRAM+3B
	MOVWF	IRAM+2B

	RETURN

ORG	0XC00
TENDOWN

;INIT

	MOVLW	0XF
	MOVWF	PCLATH
	
	BANK0
	MOVLW	0XFF
	MOVWF	TEMPFILE
	MOVLW	0XFF
	MOVWF	TEMPFILEB


	CALL	DSHIFT_DOWN_GRPA
	CALL	DSHIFT_DOWN_GRPB
	

	MOVLW	0
	MOVWF	PCLATH

	CALL	DISP
	

	MOVLW	0XC
	MOVWF	PCLATH	


	;ones
	BANK0
	MOVLW	0
	MOVWF	NUMBER

	MOVLW	0XD
	MOVWF	PCLATH

	CALL	IDUMP
	BANK1
	MOVLW	8
	MOVWF	ICURSORX
	BANK1
	

	MOVLW	0
	MOVWF	PCLATH
	
	MOVLW	0
	MOVWF	IROW

	MOVLW	2
	MOVWF	PCLATH

	CALL	ISHIFTR

	MOVLW	0XC
	MOVWF	PCLATH

	MOVLW	1
	MOVWF	IROW

	MOVLW	2
	MOVWF	PCLATH

	CALL	ISHIFTR

	MOVLW	0XC
	MOVWF	PCLATH



	BANK0
	MOVFW	TENS
	MOVWF	NUMBER

	MOVLW	0XD
	MOVWF	PCLATH

	CALL	IDUMP
	BANK1
	MOVLW	.16
	MOVWF	ICOUNT
	
TD0
	MOVLW	0XF
	MOVWF	PCLATH

	CALL	ISHIFT_DOWN_GRPA
	CALL	DSHIFT_DOWN_GRPA
	CALL	ISHIFT_DOWN_GRPB
	CALL	DSHIFT_DOWN_GRPB
	

	MOVLW	0
	MOVWF	PCLATH

	CALL	DISP
	

	MOVLW	0XC
	MOVWF	PCLATH
	BANK1
	DECFSZ	ICOUNT,F
	GOTO TD0
	
	BANK0
	MOVLW	0XFF
	MOVWF	TEMPFILEB
	CALL	DSHIFT_DOWN_GRPB

RETURN



ORG 0X700

SCROLL

	BANK1
	MOVLW	8
	MOVWF	ICURSORX
	
	
	MOVLW	0
	MOVWF	PCLATH

	CALL	CLR_IRAM

	MOVLW	7
	MOVWF	PCLATH

MAN2
	BANK0
	MOVLW	1
	MOVWF	NUMBER
	BANK1
	MOVLW	.9
	MOVWF	IPT

MAN1
	MOVLW	0XD
	MOVWF	PCLATH
BANK0
	CALL	IDUMP
BANK1
	

	MOVLW	0
	MOVWF	PCLATH
	
	MOVLW	0
	MOVWF	IROW

	MOVLW	2
	MOVWF	PCLATH

	CALL	ISHIFTR

	MOVLW	7
	MOVWF	PCLATH

	MOVLW	1
	MOVWF	IROW

	MOVLW	2
	MOVWF	PCLATH

	CALL	ISHIFTR

	MOVLW	7
	MOVWF	PCLATH



	BANK1
	MOVLW	.16
	MOVWF	ICOUNT
	
MAN0
	MOVLW	0XF
	MOVWF	PCLATH

	CALL	ISHIFT_DOWN_GRPB
	CALL	DSHIFT_DOWN_GRPB
	

	MOVLW	0
	MOVWF	PCLATH

	CALL	DISP
	

	MOVLW	7
	MOVWF	PCLATH
	BANK1
	DECFSZ	ICOUNT,F
	GOTO MAN0
	
	BANK0
	
	MOVLW	0XFF
	MOVWF	TEMPFILEB
	
	MOVLW	0XF
	MOVWF	PCLATH


	CALL	DSHIFT_DOWN_GRPB
	
	MOVLW	7
	MOVWF	PCLATH
	BANK0
	INCF	NUMBER
	BANK1
	DECFSZ	IPT,F
	GOTO	MAN1

	MOVLW	0
	MOVWF	PCLATH
	


RETURN



;#################	ISHIFT X	RIGHT ################################

ORG 0X200
ISHIFTR
	BANK1
	MOVFW	ICURSORX
	ADDWF	PCL,F
	

		GOTO	IGRP_C
	GOTO	IGRP_C
	GOTO	IGRP_C
	GOTO	IGRP_C
	GOTO	IGRP_C
	GOTO	IGRP_C
	GOTO	IGRP_C
	GOTO	IGRP_C
	GOTO	IGRP_C
		GOTO	IGRP_B
	GOTO	IGRP_B
	GOTO	IGRP_B
	GOTO	IGRP_B
	GOTO	IGRP_B
	GOTO	IGRP_B
	GOTO	IGRP_B
	GOTO	IGRP_B
	GOTO	IGRP_B
		GOTO	IGRP_A
	GOTO	IGRP_A
	GOTO	IGRP_A
	GOTO	IGRP_A
	GOTO	IGRP_A
	GOTO	IGRP_A
	GOTO	IGRP_A
	GOTO	IGRP_A


IGRP_A
;--------------------
	MOVFW	ICURSORX
	MOVWF	ISHCNT

	MOVLW	.1
	MOVWF	ITESTER

	MOVFW	IROW
	SUBWF	ITESTER,W
	BTFSC	STATUS,Z
	GOTO	ISRA08_R1
	
ISRA00
	SETC	1
	RRF		IRAM + 33
	RRF		IRAM + 37
	RRF		IRAM + 3B
	RRF		IRAM + 3F
	DECFSZ	ISHCNT
	GOTO	ISRA00

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA01
	RRF		IRAM + 23
	RRF		IRAM + 27
	RRF		IRAM + 2B
	RRF		IRAM + 2F
	DECFSZ	ISHCNT
	GOTO	ISRA01

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA02
	RRF		IRAM + 13
	RRF		IRAM + 17
	RRF		IRAM + 1B
	RRF		IRAM + 1F
	DECFSZ	ISHCNT
	GOTO	ISRA02

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA03
	RRF		IRAM + 03
	RRF		IRAM + 07
	RRF		IRAM + 0B
	RRF		IRAM + 0F
	DECFSZ	ISHCNT
	GOTO	ISRA03

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA04
	RRF		IRAM + 32
	RRF		IRAM + 36
	RRF		IRAM + 3A
	RRF		IRAM + 3E
	DECFSZ	ISHCNT
	GOTO	ISRA04

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA05
	RRF		IRAM + 22
	RRF		IRAM + 26
	RRF		IRAM + 2A
	RRF		IRAM + 2E
	DECFSZ	ISHCNT
	GOTO	ISRA05

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA06
	RRF		IRAM + 12
	RRF		IRAM + 16
	RRF		IRAM + 1A
	RRF		IRAM + 1E
	DECFSZ	ISHCNT
	GOTO	ISRA06


	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA07
	RRF		IRAM + 02
	RRF		IRAM + 06
	RRF		IRAM + 0A
	RRF		IRAM + 0E
	DECFSZ	ISHCNT
	GOTO	ISRA07

	MOVF	ICURSORX,0
	MOVWF	ISHCNT
RETURN
ISRA08_R1
	SETC	1
ISRA08
	RRF		IRAM + 31
	RRF		IRAM + 35
	RRF		IRAM + 39
	RRF		IRAM + 3D
	DECFSZ	ISHCNT
	GOTO	ISRA08

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA09
	RRF		IRAM + 21
	RRF		IRAM + 25
	RRF		IRAM + 29
	RRF		IRAM + 2D
	DECFSZ	ISHCNT
	GOTO	ISRA09
	
	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA0A
	RRF		IRAM + 11
	RRF		IRAM + 15
	RRF		IRAM + 19
	RRF		IRAM + 1D
	DECFSZ	ISHCNT
	GOTO	ISRA0A

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA0B
	RRF		IRAM + 01
	RRF		IRAM + 05
	RRF		IRAM + 09
	RRF		IRAM + 0D
	DECFSZ	ISHCNT
	GOTO	ISRA0B

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA0C
	RRF		IRAM + 30
	RRF		IRAM + 34
	RRF		IRAM + 38
	RRF		IRAM + 3C
	DECFSZ	ISHCNT
	GOTO	ISRA0C

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA0D
	RRF		IRAM + 20
	RRF		IRAM + 24
	RRF		IRAM + 28
	RRF		IRAM + 2C
	DECFSZ	ISHCNT
	GOTO	ISRA0D

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRA0E
	RRF		IRAM + 10
	RRF		IRAM + 14
	RRF		IRAM + 18
	RRF		IRAM + 1C
	DECFSZ	ISHCNT
	GOTO	ISRA0E
	
	MOVF	ICURSORX,0
	MOVWF	ISHCNT
ISRA0F
	RRF		IRAM + 00
	RRF		IRAM + 04
	RRF		IRAM + 08
	RRF		IRAM + 0C
	DECFSZ	ISHCNT
	GOTO	ISRA0F

RETURN

IGRP_B

;--------------------
	MOVFW	ICURSORX
	MOVWF	ISHCNT

	MOVLW	.1
	MOVWF	ITESTER

	MOVFW	IROW
	SUBWF	ITESTER,W
	BTFSC	STATUS,Z
	GOTO	ISRB08


	
ISRB00
	SETC	1
	RRF		IRAM + 33
	RRF		IRAM + 37
	RRF		IRAM + 3B

	DECFSZ	ISHCNT
	GOTO	ISRB00

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB01
	RRF		IRAM + 23
	RRF		IRAM + 27
	RRF		IRAM + 2B

	DECFSZ	ISHCNT
	GOTO	ISRB01

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB02
	RRF		IRAM + 13
	RRF		IRAM + 17
	RRF		IRAM + 1B

	DECFSZ	ISHCNT
	GOTO	ISRB02

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB03
	RRF		IRAM + 03
	RRF		IRAM + 07
	RRF		IRAM + 0B

	DECFSZ	ISHCNT
	GOTO	ISRB03

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB04
	RRF		IRAM + 32
	RRF		IRAM + 36
	RRF		IRAM + 3A

	DECFSZ	ISHCNT
	GOTO	ISRB04

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB05
	RRF		IRAM + 22
	RRF		IRAM + 26
	RRF		IRAM + 2A

	DECFSZ	ISHCNT
	GOTO	ISRB05

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB06
	RRF		IRAM + 12
	RRF		IRAM + 16
	RRF		IRAM + 1A

	DECFSZ	ISHCNT
	GOTO	ISRB06


	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB07
	RRF		IRAM + 02
	RRF		IRAM + 06
	RRF		IRAM + 0A

	DECFSZ	ISHCNT
	GOTO	ISRB07

	MOVF	ICURSORX,0
	MOVWF	ISHCNT
RETURN
ISRB08_R1
	SETC	1
ISRB08
	RRF		IRAM + 31
	RRF		IRAM + 35
	RRF		IRAM + 39

	DECFSZ	ISHCNT
	GOTO	ISRB08

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB09
	RRF		IRAM + 21
	RRF		IRAM + 25
	RRF		IRAM + 29

	DECFSZ	ISHCNT
	GOTO	ISRB09
	
	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB0A
	RRF		IRAM + 11
	RRF		IRAM + 15
	RRF		IRAM + 19

	DECFSZ	ISHCNT
	GOTO	ISRB0A

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB0B
	RRF		IRAM + 01
	RRF		IRAM + 05
	RRF		IRAM + 09

	DECFSZ	ISHCNT
	GOTO	ISRB0B

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB0C
	RRF		IRAM + 30
	RRF		IRAM + 34
	RRF		IRAM + 38

	DECFSZ	ISHCNT
	GOTO	ISRB0C

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB0D
	RRF		IRAM + 20
	RRF		IRAM + 24
	RRF		IRAM + 28

	DECFSZ	ISHCNT
	GOTO	ISRB0D

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRB0E
	RRF		IRAM + 10
	RRF		IRAM + 14
	RRF		IRAM + 18

	DECFSZ	ISHCNT
	GOTO	ISRB0E
	
	MOVF	ICURSORX,0
	MOVWF	ISHCNT
ISRB0F
	RRF		IRAM + 00
	RRF		IRAM + 04
	RRF		IRAM + 08

	DECFSZ	ISHCNT
	GOTO	ISRB0F

RETURN


IGRP_C
	;--------------------
	MOVFW	ICURSORX
	MOVWF	ISHCNT

	MOVLW	.1
	MOVWF	ITESTER

	MOVFW	IROW
	SUBWF	ITESTER,W
	BTFSC	STATUS,Z
	GOTO	ISRC08


	
ISRC00
	SETC	1
	RRF		IRAM + 33
	RRF		IRAM + 37


	DECFSZ	ISHCNT
	GOTO	ISRC00

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC01
	RRF		IRAM + 23
	RRF		IRAM + 27


	DECFSZ	ISHCNT
	GOTO	ISRC01

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC02
	RRF		IRAM + 13
	RRF		IRAM + 17


	DECFSZ	ISHCNT
	GOTO	ISRC02

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC03
	RRF		IRAM + 03
	RRF		IRAM + 07


	DECFSZ	ISHCNT
	GOTO	ISRC03

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC04
	RRF		IRAM + 32
	RRF		IRAM + 36


	DECFSZ	ISHCNT
	GOTO	ISRC04

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC05
	RRF		IRAM + 22
	RRF		IRAM + 26


	DECFSZ	ISHCNT
	GOTO	ISRC05

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC06
	RRF		IRAM + 12
	RRF		IRAM + 16


	DECFSZ	ISHCNT
	GOTO	ISRC06


	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC07
	RRF		IRAM + 02
	RRF		IRAM + 06


	DECFSZ	ISHCNT
	GOTO	ISRC07

	MOVF	ICURSORX,0
	MOVWF	ISHCNT
RETURN
ISRC08_R1
	SETC	1
ISRC08
	RRF		IRAM + 31
	RRF		IRAM + 35


	DECFSZ	ISHCNT
	GOTO	ISRC08

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC09
	RRF		IRAM + 21
	RRF		IRAM + 25


	DECFSZ	ISHCNT
	GOTO	ISRC09
	
	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC0A
	RRF		IRAM + 11
	RRF		IRAM + 15


	DECFSZ	ISHCNT
	GOTO	ISRC0A

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC0B
	RRF		IRAM + 01
	RRF		IRAM + 05


	DECFSZ	ISHCNT
	GOTO	ISRC0B

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC0C
	RRF		IRAM + 30
	RRF		IRAM + 34


	DECFSZ	ISHCNT
	GOTO	ISRC0C

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC0D
	RRF		IRAM + 20
	RRF		IRAM + 24


	DECFSZ	ISHCNT
	GOTO	ISRC0D

	MOVF	ICURSORX,0
	MOVWF	ISHCNT

ISRC0E
	RRF		IRAM + 10
	RRF		IRAM + 14


	DECFSZ	ISHCNT
	GOTO	ISRC0E
	
	MOVF	ICURSORX,0
	MOVWF	ISHCNT
ISRC0F
	RRF		IRAM + 00
	RRF		IRAM + 04


	DECFSZ	ISHCNT
	GOTO	ISRC0F

RETURN

IGRP_D

	NOP
	NOP

RETURN

	ORG	0x2100				; data EEPROM location
	DE	1,2,3,4				; define first four EEPROM locations as 1, 2, 3, and 4




	END                       ; directive 'end of program'

